<div class="container">
    <div style="height: 100vh; overflow: auto; scrollbar-width: none; -ms-overflow-style: none;">

        <div>

            <button class="btn btn-light my-2"><a href="" style="text-decoration: none; color: #000;">Home</a></button>
            <button class="btn btn-light my-2 mx-4"><a href="/addDept" style="text-decoration: none; color: #000;">Add
                    Department</a></button>
            <button class="btn btn-light my-2"><a routerLink="/addDes" style="text-decoration: none; color: #000;">Add
                    Designation</a></button>
        </div>
        <div class="card p-4 shadow-lg rounded-3">
            <h2 class="text-center mb-4 text-primary">Employee Registration</h2>

            <form [formGroup]="userForm">
                <div class="mb-3">
                    <label>Name</label>
                    <input type="text" class="form-control" formControlName="name" placeholder="Enter your Full Name" />
                </div>
                <div class="mb-3">
                    <label>Email</label>
                    <input type="email" class="form-control" formControlName="email" placeholder="Enter Email" />
                </div>
                <div class="mb-3">
                    <label>Phone</label>
                    <input type="text" class="form-control" formControlName="phone" placeholder="Enter Phone Number" />
                </div>
                <div class="mb-3">
                    <label>Password</label>
                    <input type="password" class="form-control" formControlName="password"
                        placeholder="Enter Password" />
                </div>
            </form>

            <form [formGroup]="employeeForm" class="mb-4">
                <div class="mb-3">
                    <label>Gender</label>
                    <select class="form-select" formControlName="gender">
                        <option value="">Select Gender</option>
                        <option value="MALE">Male</option>
                        <option value="FEMALE">Female</option>
                        <option value="OTHER">Other</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label>Date of Birth</label>
                    <input type="date" class="form-control" formControlName="dateOfBirth" />
                </div>
                <div class="mb-3">
                    <label>Address</label>
                    <input type="text" class="form-control" formControlName="address" placeholder="Enter Address" />
                </div>
                <div class="mb-3">
                    <label class="form-label fw-semibold">Department</label>
                    <select id="department" formControlName="department" class="form-select" (change)="onDeptChange()">
                        <option [ngValue]="null" disabled selected>Select Department</option>
                        <option *ngFor="let d of departments" [ngValue]="d.id">{{ d.name }}</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-semibold">Designation</label>
                    <select id="designation" formControlName="designation" class="form-select">
                        <option [ngValue]="null" disabled selected>Select Designation</option>
                        <option *ngFor="let des of filteredDesignation" [ngValue]="des.id">{{ des.name }}</option>
                    </select>
                </div>

            </form>


            <div class="mb-3">
                <label>Photo</label>
                <input type="file" (change)="onPhotoSelected($event)" />
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary" (click)="onSubmit()">Register</button>
            </div>
            @if(message){
            <div class="mt-3">
                <div class="alert" [ngClass]="{
                      'alert-success': message.includes('Success'),
                      'alert-danger': !message.includes('Success')
                    }">
                    {{ message }}
                </div>
            </div>
            }

        </div>
    </div>

</div>